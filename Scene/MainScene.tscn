[gd_scene load_steps=10 format=3 uid="uid://bw25xhs3iehum"]

[ext_resource type="Script" path="res://Script/Input_Model_Calib.gd" id="2_0sobt"]
[ext_resource type="Script" path="res://Script/InputManager.gd" id="3_ylpph"]
[ext_resource type="Script" path="res://Script/test.gd" id="4_j35uq"]
[ext_resource type="Script" path="res://Script/FilesManager.gd" id="5_m4550"]

[sub_resource type="BoxShape3D" id="BoxShape3D_wbfat"]
size = Vector3(40, 10, 40)

[sub_resource type="BoxShape3D" id="BoxShape3D_xgtco"]
size = Vector3(4.74681, 4.055, 10.4401)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_1775e"]
diffuse_mode = 1
albedo_color = Color(1, 0, 0.2, 1)

[sub_resource type="BoxMesh" id="BoxMesh_7c8gr"]

[sub_resource type="BoxShape3D" id="BoxShape3D_0q55g"]
size = Vector3(2, 2, 2)

[node name="MainScene" type="Node3D"]

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 57.379, 1.17551, 0)
current = true
fov = 60.0

[node name="StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(-8.74226e-08, 6.61745e-24, 2, 0.0238057, 1.99986, 1.04058e-09, -1.99985, 0.0238057, -8.74164e-08, -4.36011, -16.5948, 2.70818)

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 5.18482e-12, 5.82651e-11, 2.59632e-12, 1, 1.86265e-09, -1.4716e-13, 0, 1, 0, 0, 0)
shape = SubResource("BoxShape3D_wbfat")

[node name="CSGBox3D" type="CSGBox3D" parent="StaticBody3D/CollisionShape3D"]
transform = Transform3D(1, -1.25729e-08, 0, -7.21775e-09, 1, 0, 0, -3.72529e-09, 1, 0, 0, 0)
size = Vector3(40, 10, 40)

[node name="3D_Area" type="Area3D" parent="."]
transform = Transform3D(1.99857, -0.0755012, -0.00168172, 0.0755199, 1.99808, 0.0445054, -2.32831e-10, -0.0445371, 1.9995, 0, -12.4037, 114.342)

[node name="CollisionShape3D" type="CollisionShape3D" parent="3D_Area"]
shape = SubResource("BoxShape3D_xgtco")

[node name="Desk" type="MeshInstance3D" parent="3D_Area/CollisionShape3D"]
transform = Transform3D(1.68735, 0, 0, 0, 3.49551, 0, 0, 0, 10.7158, 0, 0, 0)
material_override = SubResource("StandardMaterial3D_1775e")
mesh = SubResource("BoxMesh_7c8gr")
skeleton = NodePath("../../..")

[node name="3D_Area2" type="Area3D" parent="."]
transform = Transform3D(-0.0043548, -0.113353, 4.99871, 0.19189, 4.99503, 0.113437, -4.99631, 0.191939, -2.18501e-07, -8.95568, -11.5303, 79.0003)

[node name="CollisionShape3D" type="CollisionShape3D" parent="3D_Area2"]
transform = Transform3D(1, 0, 6.22151e-11, 0, 1, 3.91293e-09, 7.2653e-11, 1.89478e-10, 1, 0, 0, 0)
shape = SubResource("BoxShape3D_xgtco")

[node name="Desk" type="MeshInstance3D" parent="3D_Area2/CollisionShape3D"]
transform = Transform3D(1.68735, 0, 0, 0, 3.49551, 0, 0, 0, 10.7158, 0, 0, 0)
material_override = SubResource("StandardMaterial3D_1775e")
mesh = SubResource("BoxMesh_7c8gr")
skeleton = NodePath("../../..")

[node name="3D_Area3" type="Area3D" parent="."]
transform = Transform3D(-0.0043548, -0.113353, 4.99871, 0.19189, 4.99503, 0.113437, -4.99631, 0.191939, -2.18501e-07, -1.09704, -12.4037, 125.335)

[node name="CollisionShape3D" type="CollisionShape3D" parent="3D_Area3"]
transform = Transform3D(0.999832, 0.0183377, 0.000415687, -0.0183377, 0.999832, -1.97799e-05, -0.000415979, 1.21603e-05, 1, 0, 0, 0)
shape = SubResource("BoxShape3D_xgtco")

[node name="Desk" type="MeshInstance3D" parent="3D_Area3/CollisionShape3D"]
transform = Transform3D(1.68735, 7.45058e-09, 0, 0, 3.49551, 1.66401e-08, 5.82077e-11, 5.24778e-09, 10.7158, 0, 0, 0)
material_override = SubResource("StandardMaterial3D_1775e")
mesh = SubResource("BoxMesh_7c8gr")
skeleton = NodePath("../../..")

[node name="FileDialog" type="FileDialog" parent="."]
title = "Open a File"
initial_position = 1
size = Vector2i(800, 400)
visible = true
ok_button_text = "Open"
file_mode = 0
access = 2

[node name="InputModelManager" type="Marker3D" parent="." node_paths=PackedStringArray("offset_desk")]
transform = Transform3D(0.838042, 0, -0.545604, 0, 1, 0, 0.545604, 0, 0.838042, 4.65116, -1.06669, -6.34221)
script = ExtResource("2_0sobt")
standard_size = Vector3(10, 10, 10)
offset_desk = NodePath("../offset_desk")

[node name="ControllerManager" type="Marker3D" parent="." node_paths=PackedStringArray("MyModelManager", "myFileDialog")]
transform = Transform3D(0.838042, 0, -0.545604, 0, 1, 0, 0.545604, 0, 0.838042, 4.65116, -1.06669, -6.34221)
script = ExtResource("3_ylpph")
MyModelManager = NodePath("../InputModelManager")
myFileDialog = NodePath("../FileDialog")

[node name="FileManager" type="Marker3D" parent="." node_paths=PackedStringArray("my_model_manager", "myfiledialog")]
script = ExtResource("5_m4550")
my_model_manager = NodePath("../InputModelManager")
myfiledialog = NodePath("../FileDialog")

[node name="offset_desk" type="Node3D" parent="."]
transform = Transform3D(30, 0, 0, 0, 30, 0, 0, 0, 30, -9.36355, 4.85364, 0)

[node name="Node3D2" type="Node3D" parent="."]
transform = Transform3D(4, 0, 0, 0, 4, 0, 0, 0, 4, 0, 0.99, 0.011)

[node name="Node3D" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.66159, -18.4561, -97.7862)

[node name="CharacterBody3D" type="CharacterBody3D" parent="Node3D" node_paths=PackedStringArray("my_char")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)
axis_lock_linear_x = true
axis_lock_linear_y = true
axis_lock_linear_z = true
axis_lock_angular_x = true
axis_lock_angular_y = true
axis_lock_angular_z = true
script = ExtResource("4_j35uq")
my_char = NodePath(".")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D/CharacterBody3D"]
shape = SubResource("BoxShape3D_0q55g")

[node name="CSGSphere3D" type="CSGSphere3D" parent="Node3D/CharacterBody3D/CollisionShape3D"]
radius = 5.0

[node name="RayCast3D" type="RayCast3D" parent="."]

[connection signal="area_entered" from="3D_Area" to="InputModelManager" method="_on_d_area_area_entered"]
[connection signal="area_exited" from="3D_Area" to="InputModelManager" method="_on_d_area_area_exited"]
[connection signal="body_entered" from="3D_Area" to="InputModelManager" method="_on_d_area_body_entered"]
[connection signal="body_exited" from="3D_Area" to="InputModelManager" method="_on_d_area_body_exited"]
[connection signal="area_entered" from="3D_Area2" to="InputModelManager" method="_on_d_area_area_entered"]
[connection signal="area_exited" from="3D_Area2" to="InputModelManager" method="_on_d_area_area_exited"]
[connection signal="body_entered" from="3D_Area2" to="InputModelManager" method="_on_d_area_body_entered"]
[connection signal="body_exited" from="3D_Area2" to="InputModelManager" method="_on_d_area_body_exited"]
[connection signal="area_entered" from="3D_Area3" to="InputModelManager" method="_on_d_area_area_entered"]
[connection signal="area_exited" from="3D_Area3" to="InputModelManager" method="_on_d_area_area_exited"]
[connection signal="body_entered" from="3D_Area3" to="InputModelManager" method="_on_d_area_body_entered"]
[connection signal="body_exited" from="3D_Area3" to="InputModelManager" method="_on_d_area_body_exited"]
[connection signal="file_selected" from="FileDialog" to="FileManager" method="_on_file_dialog_file_selected"]
